# 仕様について

データを追加する場合、下記「必須仕様」（`REG-xxx`）と「基本ルール」（`RUL-xxx`）に準拠している必要があります。

また、「必須仕様」（`REG-xxx`）に関しては各々チェック用コマンドが用意されています。コマンドの使い方は、このディレクトリにある「README.md」をご覧ください。

## 必須仕様（`REG-xxx`）

以下は仕様必須です。`TMC-DATA` にデータを追加し `PR`（Pull Request, 追加依頼）すると、自動的にチェックされます。すべてのチェックをパスしないと追加（マージ）されないため、"Regulation"（必須ルール）とします。

- REG-001 : 同一ディレクトリ内で目視上同じファイル名が重複しないこと（末尾にスペースがあるなど）
- REG-002 : ファイル名は `TFC-[YYYYMMDD].json` のフォーマットであること
- REG-003 : データは UTF-8 であること
- REG-004 : ファイルは BOM なしであること
- REG-005 : 改行コードは `LF`（`x0A`, `\n`）であること
- REG-006 : データはマルチバイト Unicode 文字のままであること（`\uXXXX` エスケープさせないこと）
- REG-005 : 1 行ごとに完結した、有効な JSON データであること
- REG-006 : 1 行目は番組のメタデータで構成されていること（下記「メタデータのフォーマット」参照）
- REG-007 : 2 行目以降はテロップ・データで構成されていること
- REG-008 : 1 テロップ・データの「テロップ ID」は、テロップ内容のハッシュ値の最初の 8 桁であること
- REG-009 : 英数字・記号は半角であること
- REG-010 : データに HTML タグが含まれていないこと
- REG-011 : データは HTML エスケープされていること

## 基本ルール（`RUL-xxx`）

以下は自動チェックされませんが、守っていただきたいルール（`RUL-xxx`）です。

このルールに違反したデータが見つかった場合は、後日削除される可能性があります。

- RUL-001 : 1 ファイル 1 放送日の内容であること
- RUL-002 : 番組放送内に表示されたテロップや文字スーパーの**文字情報のみ**（スパーインポーズ、出演者のセリフ、補足情報などは含まないでください）
- RUL-003 : 1 ファイル内のテロップ・データの並び順は、番組内での出現順が望ましい
